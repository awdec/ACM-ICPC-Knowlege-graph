# 快速开始指南

## 环境准备

### 系统要求
- **操作系统**: Windows 10/11, macOS, Linux
- **Python版本**: Python 3.9 或更高版本
- **内存**: 至少 4GB RAM
- **存储**: 至少 2GB 可用空间

### 必需软件安装

#### 1. Python环境
确认Python已安装并配置正确：
```bash
python --version
# 输出应该是: Python 3.9.x 或更高版本
```

项目配置的Python路径：`c:\users\11205\appdata\local\programs\python\python39\`

#### 2. Neo4j数据库
下载并安装Neo4j Desktop或Server：
- 官方网址: https://neo4j.com/download/
- 建议使用Neo4j Desktop便于管理

## 项目设置

### 1. 获取项目代码
```bash
# 克隆或下载项目到本地
cd d:\whk\myproject\ACM-ICPC-Knowlege-graph
```

### 2. 安装Python依赖
```bash
pip install -r requirements.txt
```

依赖包将自动安装：
- `neo4j==5.9.0` - Neo4j Python驱动
- `streamlit==1.30.0` - Web应用框架

### 3. 配置数据库连接
设置环境变量（可选，有默认值）：

**Windows PowerShell:**
```powershell
$env:NEO_URI = "bolt://localhost:7687"
$env:NEO_USER = "neo4j"  
$env:NEO_PWD = "your_password"
```

**Windows CMD:**
```cmd
set NEO_URI=bolt://localhost:7687
set NEO_USER=neo4j
set NEO_PWD=your_password
```

**Linux/macOS:**
```bash
export NEO_URI="bolt://localhost:7687"
export NEO_USER="neo4j"
export NEO_PWD="your_password"
```

## 数据库准备

### 启动Neo4j服务

#### Neo4j Desktop
1. 启动Neo4j Desktop
2. 创建新的数据库项目
3. 设置用户名密码
4. 启动数据库实例

#### Neo4j Server
```bash
# Linux/macOS
neo4j start

# Windows (以管理员身份运行)
neo4j.bat start
```

### 验证数据库连接
运行连接测试脚本：
```bash
python test_neo4j_connection.py
```

预期输出：
```
✅ Neo4j连接测试成功
数据库版本: 5.x.x
```

## 运行应用

### 启动Web应用
在项目根目录执行：
```bash
streamlit run src/app.py
```

### 访问应用
浏览器自动打开或手动访问：
```
http://localhost:8501
```

## 功能测试

### 测试数据库连接
页面加载后，查看连接状态提示：
- ✅ 绿色提示表示连接成功
- ❌ 红色提示表示连接失败

### 尝试示例查询
使用侧边栏的示例问题进行测试：

1. **点击示例1**: "题目'两数之和'的难度"
2. **点击查询按钮**
3. **查看结果**: 应显示解析结果、Cypher查询和答案

### 自定义查询测试
在输入框中输入以下问题：
- "有哪些关于动态规划的题目"
- "谁是2020年冠军"  
- "作者张三的题解"

## 故障排查

### 常见问题及解决方案

#### 1. 数据库连接失败
**错误信息**: `❌ Neo4j连接失败`

**解决步骤**:
1. 检查Neo4j服务是否启动
2. 验证连接参数是否正确
3. 检查防火墙设置
4. 尝试使用演示模式：`streamlit run src/app_demo.py`

#### 2. Python依赖错误
**错误信息**: `ModuleNotFoundError: No module named 'xxx'`

**解决步骤**:
```bash
# 重新安装依赖
pip install -r requirements.txt

# 或单独安装
pip install neo4j==5.9.0 streamlit==1.30.0
```

#### 3. 端口占用问题
**错误信息**: `Port 8501 is in use`

**解决步骤**:
```bash
# 指定其他端口
streamlit run src/app.py --server.port 8502
```

#### 4. 查询无结果
**现象**: 查询执行成功但显示"没有找到匹配的结果"

**可能原因**:
- 数据库中没有相关数据
- 查询条件过于严格
- 数据格式与查询模板不匹配

**解决方案**:
- 检查数据库中的数据结构
- 尝试使用更宽泛的查询条件
- 查看调试信息中的Cypher查询

## 项目结构说明

```
ACM-ICPC-Knowlege-graph/
├── src/                    # 源代码目录
│   ├── app.py             # 主应用程序
│   ├── app_demo.py        # 演示版本(无需数据库)
│   ├── nl_to_cypher.py    # 自然语言处理
│   ├── neo4j_helper.py    # 数据库助手
│   └── answer_renderer.py # 答案渲染器
├── tests/                 # 测试目录
├── wiki/                  # 项目文档
├── requirements.txt       # Python依赖
├── README.md             # 项目说明
└── test_neo4j_connection.py # 连接测试脚本
```

## 下一步

成功运行项目后，建议：

1. **阅读项目文档**: 了解系统架构和核心功能
2. **查看代码实现**: 学习各模块的具体实现
3. **尝试扩展功能**: 添加新的查询类型或优化现有功能
4. **运行测试**: 执行单元测试验证系统正确性

## 测试执行

运行项目自带的测试套件：
```bash
python -m unittest discover tests -v
```

## 部署建议

### 开发环境
- 使用本地Neo4j Desktop
- 启用Streamlit调试模式
- 保持详细的日志输出

### 生产环境  
- 配置Neo4j集群
- 设置环境变量
- 启用HTTPS和访问控制
- 配置监控和日志收集